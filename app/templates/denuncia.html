{% extends 'base.html' %}

{% block title %}Registros de Denúncias | Patinhas{% endblock %}

{% block content %}
<div class="container mb-5">
  <h2 class="titulo text-success text-center mt-4 mb-4">Registros de Denúncias 🕵️‍♀️</h2>

  {% if denuncias %}
    <div class="table-responsive bg-white p-4 rounded shadow-sm">
      <table class="table table-striped table-bordered text-center">
        <thead class="thead-light">
          <tr>
            <th>Nome do Denunciante</th>
            <th>Email</th>
            <th>Telefone</th>
            <th>Descrição</th>
            <th>Endereço</th>
            <th>Data</th>
          </tr>
        </thead>
        <tbody>
          {% for denuncia in denuncias %}
            <tr>
              <td>{{ denuncia.nome_denunciante }}</td>
              <td>{{ denuncia.email|default:"-" }}</td>
              <td>{{ denuncia.telefone|default:"-" }}</td>
              <td class="text-start">{{ denuncia.descricao }}</td>
              <td style="max-width: 250px; word-wrap: break-word; white-space: normal;">
                {% if denuncia.endereco %}
                  {{ denuncia.endereco.rua }}, {{ denuncia.endereco.numero }} - {{ denuncia.endereco.bairro }}, {{ denuncia.endereco.cidade.nome }} - {{ denuncia.endereco.cidade.uf }}
                {% else %}
                  -
                {% endif %}
              </td>
              <td>{{ denuncia.data|date:"d/m/Y" }}</td>
            </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  {% else %}
    <p class="text-center">Nenhuma denúncia registrada até o momento.</p>
  {% endif %}
</div>
{% endblock %}
